<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Reporteros 1 ‚Ä¢ Unidad 1 ‚Ä¢ D√≠as de la semana ‚Äî Interactivo</title>
<style>
  :root{
    --bg:#f8fafc;
    --ink:#0f172a;
    --muted:#475569;
    --accent:#2563eb;
    --ok:#16a34a;
    --bad:#dc2626;
    --card:#ffffff;
    --chip:#eef2ff;
    --chip-border:#c7d2fe;
    --drop:#e2e8f0;
  }
  html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.4}
  header{padding:18px 20px;background:#e0f2fe;border-bottom:2px solid #bae6fd}
  header h1{margin:0;font-size:1.25rem}
  header p{margin:.2rem 0 0;color:#0c4a6e}
  main{max-width:1100px;margin:0 auto;padding:18px}
  .row{display:grid;gap:16px}
  .row.cols-2{grid-template-columns:1fr; }
  @media (min-width: 900px){ .row.cols-2{ grid-template-columns:1fr 1fr; } }
  section{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;box-shadow:0 2px 8px rgba(15,23,42,.06)}
  section header{background:transparent;border:none;padding:16px 18px}
  section header h2{margin:0;font-size:1.1rem}
  section .content{padding:0 18px 18px}
  .pill{display:inline-block;padding:3px 8px;border-radius:999px;background:#ecfeff;border:1px solid #a5f3fc;color:#155e75;font-size:.8rem;margin-left:6px}
  .instr{font-size:.95rem;color:var(--muted)}
  .biling{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
  .biling > div{padding:6px 10px;background:#f1f5f9;border-radius:8px;font-size:.9rem}
  /* Chips */
  .bank{display:flex;flex-wrap:wrap;gap:10px;padding:10px;border:1px dashed #cbd5e1;border-radius:12px;background:#f8fafc;min-height:56px}
  .chip{user-select:none;cursor:grab;background:var(--chip);border:1px solid var(--chip-border);padding:6px 10px;border-radius:999px;font-weight:600}
  .chip[draggable="true"]:active{cursor:grabbing}
  .calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:10px}
  .day{background:var(--drop);border-radius:12px;min-height:84px;padding:8px;border:2px dashed #cbd5e1;display:flex;flex-direction:column;gap:6px}
  .day h4{margin:0;font-size:.95rem;color:#334155}
  .dropzone{flex:1;min-height:36px;display:flex;flex-wrap:wrap;align-items:flex-start;gap:6px}
  .day.correct{border-color:#86efac;background:#ecfdf5}
  .day.wrong{border-color:#fecaca;background:#fef2f2}
  .toolbar{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
  button{border:none;background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer}
  button.secondary{background:#e2e8f0;color:#0f172a;font-weight:600}
  button.ghost{background:transparent;color:var(--accent);border:2px solid var(--accent)}
  .score{font-weight:800}
  .pairboard{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  .card{border:1px solid #e5e7eb;border-radius:12px;padding:12px;display:flex;align-items:center;gap:12px;background:#f9fafb}
  .card .big{font-size:2rem}
  .targets{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:10px}
  .target{border:2px dashed #cbd5e1;border-radius:12px;min-height:56px;display:flex;align-items:center;justify-content:center;background:#f1f5f9;padding:8px;text-align:center}
  .target.correct{border-color:#86efac;background:#ecfdf5}
  .target.wrong{border-color:#fecaca;background:#fef2f2}
  .grid{display:grid;grid-template-columns:1fr;gap:12px}
  @media (min-width: 800px){ .grid{ grid-template-columns: 1fr 1fr; } }
  .builder{display:flex;flex-direction:column;gap:8px}
  .sentence{min-height:48px;border:1px dashed #cbd5e1;border-radius:10px;padding:8px;display:flex;gap:8px;flex-wrap:wrap;background:#f8fafc}
  .small{font-size:.85rem;color:var(--muted)}
  .results{margin-top:8px;font-weight:700}
  .good{color:var(--ok)}
  .bad{color:var(--bad)}
  .footer{margin-top:24px;color:var(--muted);font-size:.9rem}
  .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;background:#111827;color:#e5e7eb;padding:1px 6px;border-radius:6px}
</style>
</head>
<body>
<header>
  <h1>Reporteros 1 ‚Ä¢ Unidad 1 ‚Ä¢ D√≠as de la semana ‚Äî P√°gina Interactiva</h1>
  <p>Objective / Objetivo: Practice the days of the week with calendar sorting, planet matching, and sentence building. <span class="pill">Bilingual</span> <span class="pill">Auto‚Äëgrading</span> <span class="pill">Downloadable report</span></p>
</header>

<main>
  <!-- Activity 1: Sort onto a calendar -->
  <section id="act1">
    <header>
      <h2>Actividad 1: Ordena los d√≠as en el calendario <span class="pill">Drag-and-drop</span></h2>
      <div class="biling">
        <div><strong>ES:</strong> Arrastra cada chip con el nombre del d√≠a y su abreviatura al cuadro correcto del calendario (de lunes a domingo).</div>
        <div><strong>EN:</strong> Drag each day chip (full name + abbreviation) into the correct calendar column (Monday ‚Üí Sunday).</div>
      </div>
    </header>
    <div class="content">
      <div class="bank" id="bank1"></div>
      <div class="calendar" id="calendar">
        <!-- days will render here -->
      </div>
      <div class="toolbar">
        <button onclick="gradeAct1()">Grade / Calificar</button>
        <button class="secondary" onclick="resetAct1()">Reset</button>
        <div class="results" id="res1"></div>
      </div>
    </div>
  </section>

  <!-- Activity 2: Planet / celestial match -->
  <section id="act2">
    <header>
      <h2>Actividad 2: ¬øDe d√≥nde vienen los nombres? D√≠as ‚Üî cuerpos celestes <span class="pill">Historia de palabras</span></h2>
      <div class="biling">
        <div><strong>ES:</strong> Empareja cada d√≠a con su cuerpo celeste de origen. <em>Nota:</em> <strong>s√°bado</strong> viene del hebreo <em>shabbat</em> y <strong>domingo</strong> del lat√≠n <em>dominicus</em> (no del sol).</div>
        <div><strong>EN:</strong> Match each day with its etymological celestial body. <em>Note:</em> <strong>s√°bado</strong> comes from Hebrew <em>shabbat</em> and <strong>domingo</strong> from Latin <em>dominicus</em> (not the sun).</div>
      </div>
    </header>
    <div class="content">
      <div class="pairboard">
        <div class="card"><span class="big">üåô</span><div><strong>Luna</strong><div class="small">moon</div></div></div>
        <div class="target" data-target="lunes">Lunes</div>

        <div class="card"><span class="big">‚ôÇ</span><div><strong>Marte</strong><div class="small">Mars</div></div></div>
        <div class="target" data-target="martes">Martes</div>

        <div class="card"><span class="big">‚òø</span><div><strong>Mercurio</strong><div class="small">Mercury</div></div></div>
        <div class="target" data-target="mi√©rcoles">Mi√©rcoles</div>

        <div class="card"><span class="big">‚ôÉ</span><div><strong>J√∫piter</strong><div class="small">Jupiter</div></div></div>
        <div class="target" data-target="jueves">Jueves</div>

        <div class="card"><span class="big">‚ôÄ</span><div><strong>Venus</strong><div class="small">Venus</div></div></div>
        <div class="target" data-target="viernes">Viernes</div>

        <div class="card"><span class="big">‚ú°</span><div><strong>S√°bado</strong><div class="small">del hebreo ‚Äúshabbat‚Äù</div></div></div>
        <div class="target" data-target="s√°bado">S√°bado (excepci√≥n)</div>

        <div class="card"><span class="big">‚òÄ</span><div><strong>Domingo</strong><div class="small">del lat√≠n ‚Äúdominicus‚Äù</div></div></div>
        <div class="target" data-target="domingo">Domingo (excepci√≥n)</div>
      </div>

      <div class="bank" id="bank2">
        <!-- draggable labels to drop on targets -->
      </div>
      <div class="toolbar">
        <button onclick="gradeAct2()">Grade / Calificar</button>
        <button class="secondary" onclick="resetAct2()">Reset</button>
        <div class="results" id="res2"></div>
      </div>
    </div>
  </section>

  <!-- Activity 3: Sentence builder -->
  <section id="act3">
    <header>
      <h2>Actividad 3: Construye oraciones con planes semanales <span class="pill">Producci√≥n guiada</span></h2>
      <div class="biling">
        <div><strong>ES:</strong> Arrastra palabras para formar oraciones completas (con may√∫scula y punto). Usa un d√≠a + actividad.</div>
        <div><strong>EN:</strong> Drag words to build full sentences (capitalize and period). Use a day + an activity.</div>
      </div>
    </header>
    <div class="content">
      <div class="grid">
        <div class="builder">
          <div class="small"><strong>Modelo / Model:</strong> <span class="kbd">El lunes voy al gimnasio.</span></div>
          <div class="sentence" id="sentence"></div>
          <div class="bank" id="wordbank"></div>
          <div class="toolbar">
            <button onclick="checkSentence()">Check / Revisar</button>
            <button class="secondary" onclick="resetSentence()">Reset</button>
            <div class="results" id="res3"></div>
          </div>
        </div>
        <div>
          <div class="small"><strong>Sugerencias de actividades:</strong> voy al gimnasio, estudio, practico f√∫tbol, toco la guitarra, veo una pel√≠cula, ceno con mi familia.</div>
          <div class="small"><strong>Consejo / Tip:</strong> Empieza con <em>El/Los</em> + d√≠a <em>(El lunes / Los martes)</em>.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Activity 4: Quick quiz -->
  <section id="act4">
    <header>
      <h2>Actividad 4: Mini‚Äëquiz</h2>
      <div class="biling">
        <div><strong>ES:</strong> Responde r√°pidamente. Acentos cuentan.</div>
        <div><strong>EN:</strong> Quick check. Accents matter.</div>
      </div>
    </header>
    <div class="content">
      <ol id="quizlist"></ol>
      <div class="toolbar">
        <button onclick="gradeQuiz()">Grade / Calificar</button>
        <button class="secondary" onclick="resetQuiz()">Reset</button>
        <div class="results" id="res4"></div>
      </div>
    </div>
  </section>

  <section class="footer">
    <div><strong>Download Report / Descargar informe:</strong> <button class="ghost" onclick="downloadReport()">Save .csv</button></div>
    <p class="small">El sistema registra tiempo, intentos y aciertos por actividad. Accentos se requieren cuando correspondan (por ejemplo: <em>mi√©rcoles</em>).</p>
  </section>
</main>

<script>
/* ===== Utilities for metrics ===== */
const metrics = {
  started: Date.now(),
  act1: { attempts: 0, correct: 0, total: 7, ms: 0 },
  act2: { attempts: 0, correct: 0, total: 7, ms: 0 },
  act3: { attempts: 0, correct: 0, total: 1, ms: 0 },
  act4: { attempts: 0, correct: 0, total: 5, ms: 0 },
};
function markTime(key){ metrics[key].ms += 1 } // placeholder; we‚Äôll accumulate on actions

/* ===== Activity 1: calendar sort ===== */
const days = [
  {name:"lunes", abbr:"L"},
  {name:"martes", abbr:"M"},
  {name:"mi√©rcoles", abbr:"X"},
  {name:"jueves", abbr:"J"},
  {name:"viernes", abbr:"V"},
  {name:"s√°bado", abbr:"S"},
  {name:"domingo", abbr:"D"},
];
const bank1 = document.getElementById('bank1');
const calendar = document.getElementById('calendar');
function renderAct1(){
  // render bank chips
  bank1.innerHTML = "";
  const shuffled = [...days].sort(()=>Math.random()-0.5);
  shuffled.forEach(d => {
    const chip = document.createElement('div');
    chip.className = 'chip';
    chip.draggable = true;
    chip.dataset.day = d.name;
    chip.textContent = d.name[0].toUpperCase()+d.name.slice(1) + " ("+d.abbr+")";
    addDragHandlers(chip);
    bank1.appendChild(chip);
  });
  // render calendar columns
  calendar.innerHTML = "";
  days.forEach(d=>{
    const col = document.createElement('div');
    col.className = 'day';
    col.dataset.accepts = d.name;
    const h = document.createElement('h4');
    h.textContent = d.name[0].toUpperCase()+d.name.slice(1);
    const dz = document.createElement('div');
    dz.className = 'dropzone';
    addDropHandlers(dz);
    col.appendChild(h);
    col.appendChild(dz);
    calendar.appendChild(col);
  });
  document.getElementById('res1').textContent = "";
}
function addDragHandlers(el){
  el.addEventListener('dragstart', e => {
    e.dataTransfer.setData('text/plain', JSON.stringify({ type:'chip', value: el.dataset.day }));
    setTimeout(()=> el.style.opacity = .5, 0);
  });
  el.addEventListener('dragend', e => { el.style.opacity = 1; });
}
function addDropHandlers(zone){
  zone.addEventListener('dragover', e => { e.preventDefault(); });
  zone.addEventListener('drop', e => {
    e.preventDefault();
    const data = JSON.parse(e.dataTransfer.getData('text/plain'));
    if(data.type === 'chip'){
      const dragging = document.querySelector(`.chip[data-day="${data.value}"]`);
      if(dragging){
        zone.appendChild(dragging);
      }
    }
  });
}
function gradeAct1(){
  metrics.act1.attempts++;
  let correct = 0;
  document.querySelectorAll('.day').forEach(col => {
    const accept = col.dataset.accepts;
    const placed = [...col.querySelectorAll('.chip')].map(c=>c.dataset.day);
    if(placed.includes(accept)){ correct++; col.classList.add('correct'); col.classList.remove('wrong'); }
    else { col.classList.add('wrong'); col.classList.remove('correct'); }
  });
  metrics.act1.correct = correct;
  document.getElementById('res1').innerHTML = `Score: <span class="score ${correct===7?'good':'bad'}">${correct}/7</span>`;
}
function resetAct1(){ renderAct1(); document.querySelectorAll('.day').forEach(d=>d.classList.remove('correct','wrong')); }

/* ===== Activity 2: planet match ===== */
const pairs = [
  { label:"Luna ‚Üí lunes", value:"lunes" },
  { label:"Marte ‚Üí martes", value:"martes" },
  { label:"Mercurio ‚Üí mi√©rcoles", value:"mi√©rcoles" },
  { label:"J√∫piter ‚Üí jueves", value:"jueves" },
  { label:"Venus ‚Üí viernes", value:"viernes" },
  { label:"(excepci√≥n) s√°bado", value:"s√°bado" },
  { label:"(excepci√≥n) domingo", value:"domingo" },
];
const bank2 = document.getElementById('bank2');
function renderAct2(){
  bank2.innerHTML = "";
  const shuffled = [...pairs].sort(()=>Math.random()-0.5);
  shuffled.forEach(p=>{
    const chip = document.createElement('div');
    chip.className='chip';
    chip.draggable = true;
    chip.dataset.value = p.value;
    chip.textContent = p.label;
    addDragHandlers2(chip);
    bank2.appendChild(chip);
  });
  document.querySelectorAll('#act2 .target').forEach(t=>{
    t.innerHTML = t.dataset.target[0].toUpperCase()+t.dataset.target.slice(1);
    t.classList.remove('correct','wrong');
    addDropHandlers2(t);
  });
  document.getElementById('res2').textContent = "";
}
function addDragHandlers2(el){
  el.addEventListener('dragstart', e => {
    e.dataTransfer.setData('text/plain', JSON.stringify({ type:'pair', value: el.dataset.value }));
    setTimeout(()=> el.style.opacity = .5, 0);
  });
  el.addEventListener('dragend', e => { el.style.opacity = 1; });
}
function addDropHandlers2(zone){
  zone.addEventListener('dragover', e => e.preventDefault());
  zone.addEventListener('drop', e => {
    e.preventDefault();
    const data = JSON.parse(e.dataTransfer.getData('text/plain'));
    if(data.type==='pair'){
      const chip = document.querySelector(`.chip[data-value="${data.value}"]`);
      if(chip){ zone.innerHTML=""; zone.appendChild(chip); }
    }
  });
}
function gradeAct2(){
  metrics.act2.attempts++;
  let correct = 0;
  document.querySelectorAll('#act2 .target').forEach(t=>{
    const chip = t.querySelector('.chip');
    if(chip && chip.dataset.value === t.dataset.target){ correct++; t.classList.add('correct'); t.classList.remove('wrong'); }
    else { t.classList.add('wrong'); t.classList.remove('correct'); }
  });
  metrics.act2.correct = correct;
  document.getElementById('res2').innerHTML = `Score: <span class="score ${correct===7?'good':'bad'}">${correct}/7</span>`;
}
function resetAct2(){ renderAct2(); }

/* ===== Activity 3: sentence builder ===== */
const words = [
  "El","Los","lunes","martes","mi√©rcoles","jueves","viernes","s√°bado","domingo",
  "voy","estudio","practico","toco","veo","ceno","al","al","al","al","al","con","mi","familia","gimnasio","f√∫tbol","la","guitarra","una","pel√≠cula","."
];
// Provide some starter templates to validate; any starting with "El" or "Los" + day + verb + ...
function normalizeSentence(arr){
  const text = arr.join(' ').replace(/\s+([.,!?:;])/g,'$1');
  // Capitalize first letter, ensure final period
  let out = text;
  out = out.charAt(0).toUpperCase()+out.slice(1);
  if(!/[.!?]$/.test(out)) out += '.';
  return out;
}
function renderSentenceBuilder(){
  const wb = document.getElementById('wordbank');
  const s = document.getElementById('sentence');
  wb.innerHTML=""; s.innerHTML="";
  const shuffled = [...words].sort(()=>Math.random()-0.5);
  shuffled.forEach(w=>{
    const chip = document.createElement('div');
    chip.className='chip';
    chip.draggable = true;
    chip.dataset.word = w;
    chip.textContent = w;
    chip.addEventListener('dragstart', e=>{
      e.dataTransfer.setData('text/plain', JSON.stringify({ type:'word', value: w }));
      setTimeout(()=> chip.style.opacity=.5,0);
    });
    chip.addEventListener('dragend', e=> chip.style.opacity=1);
    wb.appendChild(chip);
  });
  [wb,s].forEach(zone=>{
    zone.addEventListener('dragover', e=> e.preventDefault());
    zone.addEventListener('drop', e=>{
      e.preventDefault();
      const data = JSON.parse(e.dataTransfer.getData('text/plain'));
      if(data.type==='word'){
        const chip = [...document.querySelectorAll('#act3 .chip')].find(c=>c.dataset.word===data.value && c.parentElement===wb);
        if(chip){ zone.appendChild(chip); }
      } else if(data.type==='placed'){
        const chip = document.querySelector(`#act3 .chip[data-id="${data.id}"]`);
        if(chip){ zone.appendChild(chip); }
      }
    });
  });
}
function checkSentence(){
  metrics.act3.attempts++;
  const s = document.getElementById('sentence');
  const arr = [...s.querySelectorAll('.chip')].map(c=>c.textContent);
  if(arr.length < 3){
    document.getElementById('res3').innerHTML = `<span class="bad">A√±ade m√°s palabras / Add more words.</span>`;
    return;
  }
  const out = normalizeSentence(arr);
  // Very permissive patterns
  const dayList = ["lunes","martes","mi√©rcoles","jueves","viernes","s√°bado","domingo"];
  const hasDay = dayList.some(d=> out.toLowerCase().includes(d));
  const okStart = out.startsWith("El ") || out.startsWith("Los ");
  const okVerb = /(voy|estudio|practico|toco|veo|ceno)/.test(out);
  const correct = okStart && hasDay && okVerb;
  metrics.act3.correct = correct?1:0;
  document.getElementById('res3').innerHTML = correct
    ? `<span class="good">¬°Bien! Oraci√≥n v√°lida: ‚Äú${out}‚Äù</span>`
    : `<span class="bad">Revisa el formato. Ej.: ‚ÄúEl lunes voy al gimnasio.‚Äù</span>`;
}
function resetSentence(){ renderSentenceBuilder(); document.getElementById('res3').textContent=""; }

/* ===== Activity 4: mini-quiz ===== */
const quiz = [
  { q:"¬øQu√© d√≠a viene despu√©s de martes?", a:"mi√©rcoles" },
  { q:"Escribe el primer d√≠a de la semana (versi√≥n escolar en Espa√±a).", a:"lunes" },
  { q:"¬øQu√© d√≠a NO tiene origen en un planeta? (escribe uno)", a:["s√°bado","domingo"] },
  { q:"Completa con acento: miercoles ‚Üí _____", a:"mi√©rcoles" },
  { q:"‚ÄúFriday‚Äù en espa√±ol es‚Ä¶", a:"viernes" },
];
function renderQuiz(){
  const ol = document.getElementById('quizlist');
  ol.innerHTML = "";
  quiz.forEach((item,i)=>{
    const li = document.createElement('li');
    const label = document.createElement('label');
    label.textContent = item.q;
    const input = document.createElement('input');
    input.type='text';
    input.id = 'q'+i;
    input.style.marginLeft='8px';
    input.placeholder='tu respuesta / your answer';
    li.appendChild(label);
    li.appendChild(document.createElement('br'));
    li.appendChild(input);
    ol.appendChild(li);
  });
  document.getElementById('res4').textContent="";
}
function gradeQuiz(){
  metrics.act4.attempts++;
  let correct=0;
  quiz.forEach((item,i)=>{
    const val = (document.getElementById('q'+i).value||"").trim();
    if(Array.isArray(item.a)){
      if(item.a.includes(val)) correct++;
    } else {
      if(val === item.a) correct++;
    }
  });
  metrics.act4.correct = correct;
  document.getElementById('res4').innerHTML = `Score: <span class="score ${correct===quiz.length?'good':'bad'}">${correct}/${quiz.length}</span>`;
}
function resetQuiz(){ renderQuiz(); }

/* ===== Report ===== */
function downloadReport(){
  const ended = Date.now();
  const mins = ((ended - metrics.started)/60000).toFixed(2);
  const rows = [
    ["Activity","Attempts","Correct","Total","Time(mins est.)"],
    ["Calendar Sort", metrics.act1.attempts, metrics.act1.correct, metrics.act1.total, mins],
    ["Planet Match", metrics.act2.attempts, metrics.act2.correct, metrics.act2.total, mins],
    ["Sentence Builder", metrics.act3.attempts, metrics.act3.correct, metrics.act3.total, mins],
    ["Mini-Quiz", metrics.act4.attempts, metrics.act4.correct, metrics.act4.total, mins],
  ];
  const csv = rows.map(r=>r.join(",")).join("
");
  const blob = new Blob([csv], {type:"text/csv;charset=utf-8;"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = "dias_de_la_semana_reporte.csv";
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
}

/* ===== Init ===== */
renderAct1();
renderAct2();
renderSentenceBuilder();
renderQuiz();
</script>
</body>
</html>
